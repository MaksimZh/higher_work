# Как проектировать программы in small

## 1. Рефлексия по теории
После начала изучения ФП я стал часто использовать рекурсию вместо циклов.
Временами из-за этого получался более объёмный код, чем в императивном стиле,
особенно если сразу делать хвостовую рекурсию.
Главная причина этого, видимо, в том, что я пытался сразу решить всю задачу
одной рекурсивной функцией, даже если в ней сразу несколько подзадач
(т.е. сложная структура выходных данных, как несколько списков, например).
В теории рекомедуется разделять обработку сложных данных на несколько функций,
и ещё пробовать ориентироваться не только на входные данные,
но и на выходные и на промежуточные.
Пришло время расширить набор используемых инструментов.


## 2. Работа с кодом

## 2.1 Упаковка массива в тензор
```Python
class SimpleTensor[A: BaseAxis]:
    ...
    
    def __init__(
            self, array: NDArray[Any], sizes: dict[A, int],
            *patterns: AxisPattern[A]):
        wrap_data = _eval_wrap(sizes, array.shape, patterns)
        self.__array = array.reshape(wrap_data.reshape_sizes)
        self.__axis_indices = wrap_data.axis_indices
```


### Рефлексия по работе с кодом


## Рефлексия
