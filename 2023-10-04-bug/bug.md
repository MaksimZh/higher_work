# 1. Баг

## 1.1
Опечатка в гамильтониане Кейна, который представляет собой четырёхмерный массив
размерности 8x8x4x4.
Решение - не задавать массив явно, а генерировать с помощью специальных формул
на основе относительно простого набора параметров.
В этом случае опечатка ломает массив во многих местах и её легче обнаружить.

## 1.2
Перепутать в двумерном массиве доступ по (x, y) - (столбец, строка)
и по (i, j) - (строка, столбец).
Одна из моих характерных ошибок, которая встречается почти в каждом проекте.


# 2. Другая плохая вещь

## 2.1
Один из классов содержал внутри ассоциативный массив и предоставлял методы
для проверки наличия ключа и получения значения по ключу.
Вызов второго метода приводил к ошибке, если ключа не было в массиве.
Получалось, что помимо основной функции класс брал на себя часть
работы ассоциативного массива.
Решением стало выдавать весь массив по запросу.


# 3. Сбивает людей с толку

## 3.1
Индекс, связанный с `row_axis` в тензоре - это индекс в строке (номер столбца),
или индекс (номер) строки?
Сам уже путаюсь. К сожалению, другой терминологии пока не нашёл.

## 3.2
Слово `dimension` в `XArray` - это размерность как `axis` в `NumPy`,
или размерность, как размер?
Наверное поэтом в `NumPy` этого слова избегают, а `XArray` я больше не пользуюсь.


# 4. Хрупкость

## 4.1
Множественное наследование работало без проблем:
```Python
class SymmetricBasisTensor(BasisTensor, SymmetricMatrixTensor):
    ...

class BandOperator(MatrixTensor, BasisTensor):
    ...
```
А потом оказалось, что из-за разного порядка предков в этих двух классах,
от них обоих одновременно наследоваться нельзя (а надо):
```Python
class BandHamiltonian(BandOperator, SymmetricBasisTensor):
    ...
```
Поскольку `SymmetricMatrixTensor` - потомок `MatrixTensor`,
Python не мог определить в каком порядке искать методы:
сначала в `BasisTensor`, а потом в `MatrixTensor`,
как в `SymmetricBasisTensor`,
или наоборот, как в `BandOperator`.


# 5. Побуждает делать что-то опасное

## 5.1
В старой версии моей программы код
```Python
MatrixTensor.wrap(src, x(row=y), y)
```
означал, что `x` - столбец, а `y` - это парная ему строка.
Фактически, столбец обозначался словом `row`.

Новый интерфейс:
```Python
MatrixTensor.wrap(src, x(foo=COL), y(foo=ROW))
```
