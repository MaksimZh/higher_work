# 11 правил code review

## 1. Обозревайте не более 200-400 строк кода за раз
Обычно я разбиваю код на небольшие файлы, как раз до 400 строк.
Поэтому следовать этому правилу получается автоматически.
Хотя, иногда возникает соблазн полезть в другой файл, от которого этот зависит.
Вероятно это признак того, что абстракции не очень хороши и граница
между зонами ответственности файлов недостаточной чёткая.


## 2. Придерживайтесь темпа не более 300-500 строк кода/час
Как раз так примерно и получается.
Один файл за один час.


## 3. Отведите достаточно времени для вдумчивого и неспешного просмотра, однако не более 60-90 минут
С этим сложнее, но в утренние часы вполне возможно.
Тут нужна некоторая система.
Попробую сделать отельную ветку new для кода, который ещё не прошёл обзор.
Тогда будет понятно с чем работать.
Начинаем день с обзора вчерашнего кода и сливаем его с master.
Весь сегодняшний код идёт в new и лежит там до завтра.


## 4. Авторов кода следует принуждать к комментированию/документированию кода до начала code review
Вот с этим сложнее, так как мой код пока никто кроме меня не читает.
С другой стороны, часто при кодировании принимаю решения, в которых сомневаюсь.
Вот эти места и буду комментировать для себя-завтрашнего. 


## 5. Устанавливайте количественно измеряемые цели в обзорах кода и фиксируйте метрики, чтобы улучшать этот процесс
Метрики не использую, но есть вещи, которых стараюсь избегать:
вложенные `if`, `else`, явное состояние.
Можно сделать метрику по количеству этих вещей.


## 6. Чек-листы существенно улучшают результаты как для программистов, так и для инспекторов
Вот это точно must have!
В первую очередь добавлю в такой лист проверку того, чего стараюсь избегать.


## 7. Убедитесь, что баги действительно исправлены
Обычно так и делаю, так как использую TDD.
Если найдётся что-то в процессе обзора, то часто делаю регрессионный тест.
Нужно добавить это правило в чек-лист, который нужно пройти до слияния
ветки new с веткой master.


## 8. Формированию правильной культуры обзоров кода, когда поиск дефектов методами пристального взгляда воспринимается положительно всеми сторонами, должны способствовать прежде всего менеджеры проектов
У нас нет менеджеров, или я сам себе менеджер?
Не гнобить себя за ошибки,
а вместо этого радоваться открывшимся направлениями роста -
это всегда полезно.


## 9. Остерегайтесь эффекта "Большого брата"
Поскольку за мной никто не следит и не анализирует никакие метрики,
этот эффект мне не грозит.
В будущем, с ростом команды, я как раз буду руководителем,
и нужно постараться избегать этого эффекта для подчинённых.


## 10. Эффект эго: сделайте хотя бы небольшой обзор кода, даже если у вас нет времени просмотреть весь код
Так или иначе, master - это ещё не release.
Так что нет ничего плохого, если код, покрытый тестами благодаря TDD,
будет иногда попадать туда из new без обзора.


## 11. Облегчённые обзоры кода всё равно остаются эффективны, практичны и полезны при поиске ошибок
Так же как и в предыдущем пункте:
лучше сорок раз по разу, чем ниразу сорок раз.
Откладывание большого обзора на потом будет тормозить процесс.
Лучше сразу сделать хоть что-то.
